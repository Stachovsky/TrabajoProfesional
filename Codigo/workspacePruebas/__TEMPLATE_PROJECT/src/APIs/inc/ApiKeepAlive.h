/*
 * ApiKeepAlive.h
 *
 *  Created on: 28/04/2012
 *      Author: Facundo Nahuel Uriel Silva
 */

#ifndef APIKEEPALIVE_H_
#define APIKEEPALIVE_H_

#ifdef __USE_CMSIS
#include "LPC17xx.h"
#endif

#include "lpc_types.h"

//*****************************************************************************
// Definiciones
//*****************************************************************************

#define MILISEGUNDOS_KEEP_ALIVE_DEFAULD 500;

//*****************************************************************************
// Estructuras
//*****************************************************************************
typedef struct{
	uint32_t	milisegundos; //número de milisengundos valor por defauld 500ms
	uint32_t	contador; //número de milisengundos valor por defauld 500ms
	uint8_t		estadoLedBlink;
	void (*accion)(void); // accion por defauld
} API_KeepAliveStruc;

//*****************************************************************************

//*****************************************************************************
// Funciones
//*****************************************************************************

//------------------------------------------------------------------------------
// KeepAlive Ini
//------------------------------------------------------------------------------
void API_KeepAliveInit(uint32_t milisegundos, void (*accion)(void));

//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// Funcion de keep alive por defauld;
//------------------------------------------------------------------------------
void API_KeepAliveLedBlink(void);
//------------------------------------------------------------------------------

//*****************************************************************************

#endif /* APIKEEPALIVE_H_ */
